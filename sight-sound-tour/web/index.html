<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Sight & Sound Tour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="./styles.css" rel="stylesheet" />
  <script>
  // Replace with your real Function App hostname
  window.API_BASE = "https://agreeable-forest-0c9e8dd10.1.azurestaticapps.net";
</script>
<script type="module" src="./app.js"></script>

</head>
<body>
  <main>
    <h1>Sight & Sound Tour</h1>

    <section class="card">
      <h2>1) Analyze an image</h2>
      <form id="imgForm">
        <label>Image URL (https): <input id="imageUrl" type="url" placeholder="https://..."/></label>
        <div class="or">or</div>
        <input id="file" type="file" accept="image/*" />
        <button type="submit">Analyze</button>
      </form>
      <pre id="analysis"></pre>
      <section class="card">
  <h2>1) Analyze an image</h2>

  <!-- Upload -->
  <form id="imgForm" style="margin-bottom: .75rem">
    <label>Image URL (https): <input id="imageUrl" type="url" placeholder="https://..."/></label>
    <div class="or">or</div>
    <input id="file" type="file" accept="image/*" />
    <button type="submit">Analyze</button>
  </form>

  <!-- Camera -->
  <div id="cameraBlock">
    <div style="display:flex; gap:.5rem; align-items:center; flex-wrap:wrap">
      <select id="cameraSelect"></select>
      <button id="startCamBtn" type="button">Start camera</button>
      <button id="captureBtn" type="button" disabled>Capture</button>
      <button id="stopCamBtn" type="button" disabled>Stop</button>
    </div>
    <video id="preview" playsinline muted autoplay style="width:100%; margin-top:.5rem; border-radius:12px; display:none;"></video>
    <canvas id="snap" style="display:none;"></canvas>
  </div>

  <pre id="analysis"></pre>
</section>

    </section>

    <section class="card">
      <h2>2) Translate the caption / OCR text</h2>
      <label>Target language code:
        <input id="toLang" value="en" />
      </label>
      <button id="translateBtn">Translate</button>
      <pre id="translation"></pre>
    </section>

    <section class="card">
      <h2>3) Speak it</h2>
      <label>Voice (optional): <input id="voice" placeholder="en-US-JennyNeural" /></label>
      <button id="ttsBtn">Play</button>
      <audio id="player" controls></audio>
    </section>
  </main>

  <script src="./app.js" type="module"></script>
</body>
</html>
